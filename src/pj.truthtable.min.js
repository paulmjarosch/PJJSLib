PJ.TruthTable=function(expression,var_count){if(!PJ.isString(expression)){throw new PJ.IllegalArgumentException("'expression' parameter must be a string")}else{if((!PJ.isNumber(var_count))||(!PJ.Numeric.isInteger(var_count))||(var_count<0)){throw new PJ.IllegalArgumentException("'var_count' parameter must be a positive integer.")}}this.getResults=function(){return this._results.slice()};this.generateHTML=function(options){if(typeof options!=="object"){options={}}var id=(typeof options.id!=="undefined")?id:"truthtable";var shorthand=(typeof options.shorthand!=="undefined")?PJ.parseBoolean(options.shorthand):false;var html='<table id="'+id+'">';html+="<thead><tr>";for(var i=0;i<this._varCount;i++){html+="<th>v["+i+"]</th>"}html+="<th>"+this._expr+"</th>";html+="</tr></thead>";for(var r=0;r<this._results.length;r++){var row=this._results[r];html+="<tr>";for(var c=0;c<row.length;c++){var rcVal=row[c];if(shorthand){rcVal=(rcVal)?"T":"F"}html+="<td>"+rcVal+"</td>"}html+="</tr>"}html+="</table>";return html};this._expr=expression,this._varCount=var_count,this._rowCount=Math.pow(2,var_count),this._results=[];var getVariableArray=function(row,vCount){var seq=PJ.StringUtils.pad(row.toString(2),vCount,"0",PJ.StringUtils.PAD_LEFT);var ar=new Array(seq.length);for(var i=0;i<ar.length;i++){ar[i]=(seq.charAt(i)==="1")}return ar};for(var curRow=0;curRow<this._rowCount;curRow++){var v=getVariableArray(curRow,this._varCount);v.push(PJ.parseBoolean(eval(this._expr)));this._results[curRow]=v}};