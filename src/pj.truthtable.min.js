PJ.TruthTable=function(expression,var_count){if(!PJ.isString(expression)){throw new PJ.IllegalArgumentException("'expression' parameter must be a string")}else{if((!PJ.isNumber(var_count))||(!PJ.Numeric.isInteger(var_count))||(var_count<0)){throw new PJ.IllegalArgumentException("'var_count' parameter must be a positive integer.")}}var _expr=expression,_varCount=var_count,_rowCount=Math.pow(2,var_count),_results=[];var _getVariableArray=function(row,vCount){var seq=PJ.StringUtils.pad(row.toString(2),vCount,"0",PJ.StringUtils.PAD_LEFT);var ar=new Array(seq.length);for(var i=0;i<ar.length;i++){ar[i]=(seq.charAt(i)==="1")}return ar};for(var curRow=0;curRow<_rowCount;curRow++){var v=_getVariableArray(curRow,_varCount);v.push(PJ.parseBoolean(eval(_expr)));_results[curRow]=v}this.getResults=function(){return _results.slice()};this.generateHTML=function(options){if(typeof options!=="object"){options={}}var id=(typeof options.id!=="undefined")?id:"truthtable";var shorthand=(typeof options.shorthand!=="undefined")?PJ.parseBoolean(options.shorthand):false;var html='<table id="'+id+'">';html+="<thead><tr>";for(var i=0;i<_varCount;i++){html+="<th>v["+i+"]</th>"}html+="<th>"+_expr+"</th>";html+="</tr></thead>";for(var r=0;r<_results.length;r++){var row=_results[r];html+="<tr>";for(var c=0;c<row.length;c++){var rcVal=row[c];if(shorthand){rcVal=(rcVal)?"T":"F"}html+="<td>"+rcVal+"</td>"}html+="</tr>"}html+="</table>";return html}};