var PJ=PJ||{};PJ.version="4.0";PJ.name="Core";PJ.toString=function(){return"PJ JavaScript Library "+PJ.name+" v"+PJ.version};PJ.DATA_TYPE_ARRAY="array";PJ.DATA_TYPE_BOOLEAN="boolean";PJ.DATA_TYPE_DATE="date";PJ.DATA_TYPE_NUMBER="number";PJ.DATA_TYPE_OBJECT="object";PJ.DATA_TYPE_STRING="string";PJ.typeOf=function(obj){return({}).toString.call(obj).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};PJ.isTypeOf=function(obj,type){return PJ.typeOf(obj)===type};PJ.isArray=function(obj){return PJ.isTypeOf(obj,PJ.DATA_TYPE_ARRAY)};PJ.isBoolean=function(obj){return PJ.isTypeOf(obj,PJ.DATA_TYPE_BOOLEAN)};PJ.isDate=function(obj){return PJ.isTypeOf(obj,PJ.DATA_TYPE_DATE)};PJ.isNumber=function(obj){if(PJ.isTypeOf(obj,PJ.DATA_TYPE_NUMBER)){return !isNaN(obj)}return false};PJ.isObject=function(obj){return PJ.isTypeOf(obj,PJ.DATA_TYPE_OBJECT)};PJ.isString=function(obj){return PJ.isTypeOf(obj,PJ.DATA_TYPE_STRING)};PJ.parseBoolean=function(obj){if(obj!==null){switch(PJ.typeOf(obj)){case"boolean":return obj;break;case"number":return(obj===1);break;case"object":obj=obj.toString();case"string":switch(obj.toLowerCase().trim()){case"t":case"true":case"1":case"yes":case"y":case"on":return true;default:return false}break;case"date":case"array":default:return false}}else{return false}};PJ.Exception=function(name,message){this.name=PJ.isString(name)?(name.length!==0?name:"Exception"):"Exception";this.message=PJ.isString(message)?(message.length!==0?message:""):"";PJ.Exception.prototype.toString=function(){if(this.message.trim().length===0){return this.name}else{return this.name+": "+this.message}}};PJ.IllegalArgumentException=function(message){PJ.Exception.call(this,"IllegalArgumentException",message)};PJ.IllegalArgumentException.prototype=Object.create(PJ.Exception.prototype);PJ.IllegalArgumentException.prototype.constructor=PJ.IllegalArgumentException;PJ.UnsupportedOperationException=function(message){PJ.Exception.call(this,"UnsupportedOperationException",message)};PJ.UnsupportedOperationException.prototype=Object.create(PJ.Exception.prototype);PJ.UnsupportedOperationException.prototype.constructor=PJ.UnsupportedOperationException;PJ.NotNumericException=function(type){var typeStr=((typeof type!=="undefined")&&(type!==null))?(", but found:"+type.toString()+"."):".";var message="Numeric value expected"+typeStr;PJ.Exception.call(this,"NotNumericException",message)};PJ.NotNumericException.prototype=Object.create(PJ.Exception.prototype);PJ.NotNumericException.prototype.constructor=PJ.NotNumericException;
PJ.EnumConstantNotPresentException=function(message){PJ.Exception.call(this,"EnumConstantNotPresentException",message)};PJ.EnumConstantNotPresentException.prototype=Object.create(PJ.Exception.prototype);PJ.EnumConstantNotPresentException.prototype.constructor=PJ.EnumConstantNotPresentException;PJ.Enum=function(_args){var _values=[];var _size=0;var re_varName=/^[a-zA-Z_][a-zA-Z0-9_]*$/i;for(var i=0;i<arguments.length;i++){var key=arguments[i];if(PJ.isString(key)){if(!re_varName.test(key)){throw new PJ.IllegalArgumentException("Invalid identifier: "+key)}else{if(typeof this[key]==="undefined"){throw new PJ.IllegalArgumentException("Duplicate Enumeration Constant"+key)}else{this[key]=_size++;_values.push(key)}}}}this.values=function(){return _values.slice()};this.size=function(){return _size};PJ.Enum.prototype.valueOf=function(name){if(!PJ.isSet(name)){throw new PJ.IllegalArgumentException("name is required")}else{if(!PJ.isString(name)){throw new PJ.IllegalArgumentException("name must be a string")}else{if(new RegExp("/^[a-zA-Z_][a-zA-Z0-9_]*$/i").test(name)){throw new PJ.IllegalArgumentException("name is not a valid identifier")}else{for(var ec in this){if(this.hasOwnProperty(ec)){if(ec===name){return this[ec]}}}throw new PJ.EnumConstantNotPresentException("'"+name+"' does not exist in this enumeration.")}}}};PJ.Enum.prototype.toString=function(){return"Enumeration"}};
PJ.Numeric={};PJ.Numeric.version="1.0";PJ.Numeric.name="Numeric";PJ.Numeric.toString=function(){return"PJ JavaScript Library "+PJ.name+" Module v"+PJ.version};PJ.Numeric.BYTE_UNSIGNED_MIN_VALUE=0;PJ.Numeric.BYTE_UNSIGNED_MAX_VALUE=255;PJ.Numeric.BYTE_SIGNED_MIN_VALUE=-128;PJ.Numeric.BYTE_SIGNED_MAX_VALUE=127;PJ.Numeric.FLOAT_UNSIGNED_MIN_VALUE=Number.MIN_VALUE;PJ.Numeric.FLOAT_UNSIGNED_MAX_VALUE=Number.MAX_VALUE;PJ.Numeric.FLOAT_SIGNED_MIN_VALUE=-1*Number.MAX_VALUE;PJ.Numeric.FLOAT_SIGNED_MAX_VALUE=Number.MAX_VALUE;PJ.Numeric.INTEGER_UNSIGNED_MIN_VALUE=0;PJ.Numeric.INTEGER_UNSIGNED_MAX_VALUE=4294967295;PJ.Numeric.INTEGER_SIGNED_MIN_VALUE=-2147483648;PJ.Numeric.INTEGER_SIGNED_MAX_VALUE=2147483647;PJ.Numeric.LONG_UNSIGNED_MIN_VALUE=0;PJ.Numeric.LONG_UNSIGNED_MAX_VALUE=18446744073709552000;PJ.Numeric.LONG_SIGNED_MIN_VALUE=-9223372036854776000;PJ.Numeric.LONG_SIGNED_MAX_VALUE=9223372036854776000;PJ.Numeric.SHORT_UNSIGNED_MIN_VALUE=0;PJ.Numeric.SHORT_UNSIGNED_MAX_VALUE=65535;PJ.Numeric.SHORT_SIGNED_MIN_VALUE=-32768;PJ.Numeric.SHORT_SIGNED_MAX_VALUE=32767;PJ.Numeric.isWithinRange=function(n,min,max,min_inc,max_inc){if((typeof n==="undefined")||(n===null)){throw new PJ.IllegalArgumentExceptionn("n is required")}else{if(!PJ.isNumber(n)){throw new PJ.IllegalArgumentException("n must be a number")}}if((typeof min==="undefined")||(min===null)){throw new PJ.IllegalArgumentExceptionn("min is required")}else{if(!PJ.isNumber(min)){throw new PJ.IllegalArgumentException("min must be a number")}}if((typeof max==="undefined")||(max===null)){throw new PJ.IllegalArgumentExceptionn("max is required")}else{if(!PJ.isNumber(max)){throw new PJ.IllegalArgumentException("min must be a number")}}if((typeof min_inc==="undefined")||(min_inc===null)){min_inc=true}else{min_inc=PJ.parseBoolean(min_inc)}if((typeof max_inc==="undefined")||(max_inc===null)){max_inc=true}else{max_inc=PJ.parseBoolean(max_inc)}if(min>max){throw new PJ.IllegalArgumentException("min cannot be larger than max")}var pass=true;if(min_inc){pass=pass&&(n>=min)}else{pass=pass&&(n>min)}if(max_inc){pass=pass&&(n<=max)}else{pass=pass&&(n<max)}return pass};PJ.Numeric.isByte=function(n,signed){if(PJ.Numeric.isIntegral(n)){var _s=PJ.parseBoolean(signed);var min=_s?PJ.Numeric.BYTE_SIGNED_MIN_VALUE:PJ.Numeric.BYTE_UNSIGNED_MIN_VALUE;var max=_s?PJ.Numeric.BYTE_SIGNED_MAX_VALUE:PJ.Numeric.BYTE_UNSIGNED_MAX_VALUE;return PJ.Numeric.isWithinRange(n,min,max,true,true)}return false};PJ.Numeric.isFloat=function(n,signed){if(!PJ.Numeric.isIntegral(n)){switch(n){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return false;default:var _s=PJ.parseBoolean(signed);var min=_s?PJ.Numeric.FLOAT_SIGNED_MIN_VALUE:PJ.Numeric.FLOAT_UNSIGNED_MIN_VALUE;var max=_s?PJ.Numeric.FLOAT_SIGNED_MAX_VALUE:PJ.Numeric.FLOAT_UNSIGNED_MAX_VALUE;return PJ.Numeric.isWithinRange(n,min,max,true,true)}}};PJ.Numeric.isIntegral=function(n){if(PJ.isNumber(n)){if(!window.isNaN(n)){return((n%1)===0)}}return false};PJ.Numeric.isInteger=function(n,signed){if(PJ.Numeric.isIntegral(n)){switch(n){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return false;default:var _s=PJ.parseBoolean(signed);var min=_s?PJ.Numeric.INTEGER_SIGNED_MIN_VALUE:PJ.Numeric.INTEGER_UNSIGNED_MIN_VALUE;var max=_s?PJ.Numeric.INTEGER_SIGNED_MAX_VALUE:PJ.Numeric.INTEGER_UNSIGNED_MAX_VALUE;return PJ.Numeric.isWithinRange(n,min,max,true,true)}}return false};PJ.Numeric.isLong=function(n,signed){if(PJ.Numeric.isIntegral(n)){var _s=PJ.parseBoolean(signed);var min=_s?PJ.Numeric.LONG_SIGNED_MIN_VALUE:PJ.Numeric.LONG_UNSIGNED_MIN_VALUE;var max=_s?PJ.Numeric.LONG_SIGNED_MAX_VALUE:PJ.Numeric.LONG_UNSIGNED_MAX_VALUE;return PJ.Numeric.isWithinRange(n,min,max,true,true)}return false};PJ.Numeric.isShort=function(n,signed){if(PJ.Numeric.isIntegral(n)){var _s=PJ.parseBoolean(signed);var min=_s?PJ.Numeric.SHORT_SIGNED_MIN_VALUE:PJ.Numeric.SHORT_UNSIGNED_MIN_VALUE;var max=_s?PJ.Numeric.SHORT_SIGNED_MAX_VALUE:PJ.Numeric.SHORT_UNSIGNED_MAX_VALUE;return PJ.Numeric.isWithinRange(n,min,max,true,true)}return false};
PJ.Math={};PJ.Math.version="4.0";PJ.Math.name="Math";PJ.Math.toString=function(){return"PJ JavaScript Library "+PJ.name+" Module v"+PJ.version};PJ.Math.ANGLE_UNIT_TURN=1;PJ.Math.ANGLE_UNIT_QUADRANT=4;PJ.Math.ANGLE_UNIT_SEXTANT=6;PJ.Math.ANGLE_UNIT_RADIAN=2*Math.PI;PJ.Math.ANGLE_UNIT_HOUR=24;PJ.Math.ANGLE_UNIT_POINT=32;PJ.Math.ANGLE_UNIT_HEXACONTADE=60;PJ.Math.ANGLE_UNIT_BINARY_DEGREE=256;PJ.Math.ANGLE_UNIT_DEGREE=360;PJ.Math.ANGLE_UNIT_GRAD=400;PJ.Math.ANGLE_UNIT_MIL=6400;PJ.Math.ANGLE_UNIT_ARC_MINUTE=21600;PJ.Math.ANGLE_UNIT_ARC_SECOND=1296000;PJ.Math.isPrime=function(n){if(!PJ.Numeric.isInteger(n)){return false}else{if(n<2){return false}else{var r=true;for(var i=2;i<n;i++){if((n%i)===0){r=false;break}}return r}}};PJ.Math.factorial=function(n){if(!PJ.Numeric.isInteger(n)){return Number.NaN}else{if(n<0){return Number.NaN}else{var t=0;if(n===0){t=1}else{t=n}for(var i=n-1;i>0;i--){t*=i}return t}}};PJ.Math.gcd=function(_args){if(arguments.length<2){throw new PJ.IllegalArgumentException("too few arguments")}else{if(!PJ.Numeric.isInteger(!arguments[0])){throw new PJ.IllegalArgumentException("Parameter 0 is not an integer.")}else{var result=arguments[0];for(var i=1;i<arguments.length;i++){if(!PJ.Numeric.isInteger(!arguments[i])){throw new PJ.IllegalArgumentException("Parameter "+i+" is not an integer.")}else{var t=0,y=arguments[i];while(y!==0){t=result%y;result=y;y=t}}}return result}}};PJ.Math.lcm=function(_args){if(arguments.length<2){throw new PJ.IllegalArgumentException("too few arguments")}else{if(!PJ.Numeric.isInteger(!arguments[0])){throw new PJ.IllegalArgumentException("Parameter 0 is not an integer.")}else{var _lcm=function(x,y){return(x*y)/PJ.Math.gcd(x,y)};var result=arguments[0];for(var i=1;i<arguments.length;i++){if(!PJ.Numeric.isInteger(!arguments[i])){throw new PJ.IllegalArgumentException("Parameter "+i+" is not an integer.")}else{result=_lcm(result,arguments[i])}}return result}}};PJ.Math.distance=function(pt1,pt2){if(!PJ.isArray(pt1)||!PJ.isArray(pt2)){throw new PJ.IllegalArgumentException("Parmaters must be arrays.")}var dims=Math.min(pt1.length,pt2.length);var dist=0;for(var i=0;i<dims;i++){if(!PJ.isNumber(pt1[i])){throw new PJ.NotNumericException("Point 1, Dimension "+i+" is not a a number.")}if(!PJ.isNumber(pt2[i])){throw new PJ.NotNumericException("Point 2, Dimension "+i+" is not a a number.")}dist+=Math.pow(pt2[i]-pt1[i],2)}return Math.sqrt(dist)};PJ.Math.midpoint=function(pt1,pt2){var dims=Math.min(pt1.length,pt2.length);var midpt=[];for(var i=0;i<dims;i++){if(!PJ.isNumber(pt1[i])){throw new PJ.NotNumericException("Point 1, Dimension "+i+" is not a a number.")}if(!PJ.isNumber(pt2[i])){throw new PJ.NotNumericException("Point 2, Dimension "+i+" is not a a number.")}midpt[i]=(pt2[i]-pt1[i])/2}return midpt};PJ.Math.hypotenuse=function(_args){if(arguments.length<2){throw new PJ.IllegalArgumentException("too few arguments")}else{var hyp=0,count=arguments.length;for(var i=0;i<count;i++){if(!PJ.Numeric.isInteger(!arguments[i])){throw new PJ.IllegalArgumentException("Parameter "+i+" is not an integer.")}else{hyp+=Math.pow(arguments[i],2)}}return Math.sqrt(hyp)}};PJ.Math.quadratic=function(a,b,c){if(!PJ.isNumber(a)){throw new PJ.IllegalArgumentException("Parameter a must be a number.")}if(!PJ.isNumber(b)){throw new PJ.IllegalArgumentException("Parameter b must be a number.")}if(!PJ.isNumber(c)){throw new PJ.IllegalArgumentException("Parameter c must be a number.")}var _b=-1*b,discrim=Math.pow(b,2)-(4*a*c),den=2*a;if(discrim===0){return[_b/den]}else{if(discrim>0){var root=Math.sqrt(discrim),sol1=(_b+root)/den,sol2=(_b-root)/den;return[sol1,sol2]}else{var real=(_b/den),img=((Math.sqrt(Math.abs(discrim))/den)),sol1=real+" + i*"+img,sol2=real+" - i*"+img;return[sol1,sol2]}}};PJ.Math.cubic=function(a,b,c,d){if(!PJ.isNumber(a)){throw new PJ.IllegalArgumentException("Parameter a must be a number.")}if(!PJ.isNumber(b)){throw new PJ.IllegalArgumentException("Parameter b must be a number.")}if(!PJ.isNumber(c)){throw new PJ.IllegalArgumentException("Parameter c must be a number.")}if(!PJ.isNumber(d)){throw new PJ.IllegalArgumentException("Parameter d must be a number.")}var f=((3*c/a)-(Math.pow(b,2)/Math.pow(a,2)))/3,g=((2*Math.pow(b,3)/Math.pow(a,3))-(9*b*c/Math.pow(a,2))+(27*d/a))/27,h=(Math.pow(g,2)/4)+(Math.pow(f,3)/27);if(h>0){var r=-1*(g/2)+Math.pow(h,(1/2)),s=Math.pow(r,(1/3)),t=-1*(g/2)-Math.pow(h,(1/2)),u=0;if(t<0){t=Math.abs(t);u=-1*Math.pow(t,(1/3))}else{u=Math.pow(t,(1/3))}return[-1,(s+u)-(b/(3*a)),(-1*((s+u)/2))-(b/(3*a))+" + i*"+((s-u)*Math.pow(3,(1/2)))/2,(-1*((s+u)/2))-(b/(3*a))+" - i*"+((s-u)*Math.pow(3,(1/2)))/2]}else{var i=Math.pow(((Math.pow(g,2)/4)-h),(1/2)),j=Math.pow(i,(1/3)),k=Math.acos(-1*(g/(2*i))),l=j*-1,m=Math.cos(k/3),n=Math.sqrt(3)*Math.sin(k/3),p=(b/(3*a))*-1;return[0,(2*j)*Math.cos(k/3)-(b/(3*a)),l*(m+n)+p,l*(m-n)+p]}};PJ.Math.nFactorize=function(n){if(!PJ.Math.isInteger(n)){throw new PJ.IllegalArgumentException("Parameter must be an integer.")}var m=Math.abs(Math.floor(n));var f=new Array();f[0]=1;if(m>=2){for(var i=2;i<=m;i++){if((m%i)===0){f[f.length]=i}}}return f};PJ.Math.nPr=function(n,r){if(!PJ.isNumber(n)){throw new PJ.IllegalArgumentException("Parameter n must be a number.")}if(!PJ.isNumber(r)){throw new PJ.IllegalArgumentException("Parameter r must be a number.")}var _n=Math.abs(Math.floor(n)),_r;if(PJ.typeOf(r)==="number"){_r=r}else{if(PJ.typeOf(r)==="array"){_r=r}else{_r=_n}}if(PJ.typeOf(_r)==="array"){var den=1;for(var i in _r){var ele=Math.abs(Math.floor(_r[i]));den*=PJ.Math.factorial(ele)}return PJ.Math.factorial(_n)/den}else{if(_r>_n){return 0}else{return PJ.Math.factorial(_n)/PJ.Math.factorial(_n-_r)}}};PJ.Math.nCr=function(n,r,b){if(!PJ.isNumber(n)){throw new PJ.IllegalArgumentException("Parameter n must be a number.")}if(!PJ.isNumber(r)){throw new PJ.IllegalArgumentException("Parameter r must be a number.")}var _n=Math.abs(Math.floor(n)),_r=Math.abs(Math.floor(r));if(_r>_n){return 0}else{if(PJ.parseBoolean(b)){_n=_n+_r-1}return PJ.Math.factorial(_n)/(PJ.Math.factorial(_r)*PJ.Math.factorial(_n-_r))}};PJ.Math.convert_angle=function(val,from,to){if(!PJ.isNumber(val)){throw new PJ.IllegalArgumentException("Parameter val must be a number.")}if(typeof from==="undefined"){from=PJ.Math.ANGLE_UNIT_TURN}else{if(!PJ.isNumber(from)){throw new PJ.IllegalArgumentException("Parameter from must be a number.")}}if(typeof to==="undefined"){to=PJ.Math.ANGLE_UNIT_TURN}else{if(!PJ.isNumber(to)){throw new PJ.IllegalArgumentException("Parameter to must be a number.")}}if(val===0){return 0}else{if(from===to){return val}else{var turns=val;if(from!==PJ.Math.Trig.ANGLE_UNIT_TURN){turns=val/from}return turns*to}}};
PJ.Random={};PJ.Random.version="2.0";PJ.Random.name="Random";PJ.Random.toString=function(){return"PJ JavaScript Library "+PJ.name+" Module v"+PJ.version};PJ.Random.MIN_PRECISION=0;PJ.Random.MAX_PRECISION=17;PJ.Random.nextNumber=function(min,max,precision){if(!PJ.isNumber(min)){throw new PJ.IllegalArgumentException("Parameter min must be a number.")}if(!PJ.isNumber(max)){throw new PJ.IllegalArgumentException("Parameter max must be a number.")}if(min>max){throw new PJ.IllegalArgumentException("Min cannot be larger than max.")}if(!PJ.isNumber(precision)){throw new PJ.IllegalArgumentException("Parameter precision must be a number.")}else{if(!PJ.Numeric.isInteger(precision)){throw new PJ.IllegalArgumentException("Parameter precision must be an integer.")}else{if(!PJ.Numeric.isWithinRange(precision,PJ.Random.MIN_PRECISION,PJ.Random.MAX_PRECISION,true,true)){throw new PJ.IllegalArgumentException("Parameter precision must be an integer between 0 and 17.")}}}return(min+Math.random()*(max-min)).toFixed(precision)};PJ.Random.nextBoolean=function(){return(parseInt(PJ.Random.nextNumber(0,1,0))===1)};PJ.Random.nextByte=function(signed){var s=PJ.parseBoolean(signed),min=(s?PJ.Numeric.BYTE_SIGNED_MIN_VALUE:PJ.Numeric.BYTE_UNSIGNED_MIN_VALUE),max=(s?PJ.Numeric.BYTE_SIGNED_MAX_VALUE:PJ.Numeric.BYTE_UNSIGNED_MAX_VALUE);return(parseInt(PJ.Random.nextNumber(min,max,0))===1)};PJ.Random.nextShort=function(signed){var s=PJ.parseBoolean(signed),min=(s?PJ.Numeric.SHORT_SIGNED_MIN_VALUE:PJ.Numeric.SHORT_UNSIGNED_MIN_VALUE),max=(s?PJ.Numeric.SHORT_SIGNED_MAX_VALUE:PJ.Numeric.SHORT_UNSIGNED_MAX_VALUE);return(parseInt(PJ.Random.nextNumber(min,max,0))===1)};PJ.Random.nextInteger=function(signed){var s=PJ.parseBoolean(signed),min=(s?PJ.Numeric.INTEGER_SIGNED_MIN_VALUE:PJ.Numeric.INTEGER_UNSIGNED_MIN_VALUE),max=(s?PJ.Numeric.INTEGER_SIGNED_MAX_VALUE:PJ.Numeric.INTEGER_UNSIGNED_MAX_VALUE);return(parseInt(PJ.Random.nextNumber(min,max,0))===1)};PJ.Random.nextLong=function(signed){var s=PJ.parseBoolean(signed),min=(s?PJ.Numeric.LONG_SIGNED_MIN_VALUE:PJ.Numeric.LONG_UNSIGNED_MIN_VALUE),max=(s?PJ.Numeric.LONG_SIGNED_MAX_VALUE:PJ.Numeric.LONG_UNSIGNED_MAX_VALUE);return(parseInt(PJ.Random.nextNumber(min,max,0))===1)};
PJ.StringUtils={};PJ.StringUtils.version="1.0";PJ.StringUtils.name="StringUtils";PJ.StringUtils.toString=function(){return"PJ JavaScript Library "+PJ.name+" Module v"+PJ.version};PJ.StringUtils.PAD_LEFT=0;PJ.StringUtils.PAD_RIGHT=1;PJ.StringUtils.PAD_LEFT=2;PJ.StringUtils.parseQueryString=function(qs){var params=[];if((typeof qs==="undefined")||(qs===null)){qs=window.location.search}if(PJ.isString(qs)){qs=qs.trim();if(qs.charAt(0)==="?"){qs=qs.substr(1)}var qsAr=qs.split("&");var re=/\+/g;for(var i=0;i<qsAr.length;i++){var pair=qsAr[i].split("=",2);var key=pair[0];key=key.replace(/\[.*\]/i,"");if((pair.length===2)&&(key.length>0)){var value=decodeURIComponent(pair[1].replace(re," "));if(typeof params[key]!=="undefined"){params[key]=value}else{var prevVal=params[key];if(PJ.isString(prevVal)){var tmpAr=[];tmpAr.push(prevVal,value);params[key]=tmpAr}else{if(PJ.isArray(prevVal)){params[key].push(value)}}}if(pair.length===1){params[pair[0]]=""}else{params[pair[0]]=decodeURIComponent(pair[1].replace(re," "))}}}}return params};PJ.StringUtils.pad=function(str,len,ch,opt){if(!PJ.isString(str)){throw new PJ.IllegalArgumentException("'str' parameter is required and must be a string.")}if(PJ.isNumber(len)){if(!PJ.Numeric.isInteger(len)||(len<0)){throw new PJ.IllegalArgumentException("'len' parameter is required and must be a positive integer.")}}else{throw new PJ.IllegalArgumentException("'len' parameter is required and must be a positive integer.")}if(!PJ.isString(ch)||(ch.length===0)){ch=" "}if(str.length>=len){return str}else{var totalPadSize=len-str.length,padLeftSize=0,padRightSize=0,padLeftStr="",padRightStr="";switch(opt){case PJ.StringUtils.PAD_RIGHT:padRightSize=totalPadSize;break;case PJ.StringUtils.PAD_LEFT:padLeftSize=totalPadSize;break;default:case PJ.StringUtils.PAD_BOTH:padLeftSize=Math.ceil(totalPadSize/2);padRightSize=totalPadSize-padLeftSize;break}if(padLeftSize>0){padLeftStr=Array(padLeftSize+1).join(ch).substr(0,padLeftSize)}if(padRightSize>0){padRightStr=Array(padRightSize+1).join(ch).substr(0,padRightSize)}return padLeftStr+str+padRightStr}};
PJ.TruthTable=function(expression,var_count){if(!PJ.isString(expression)){throw new PJ.IllegalArgumentException("'expression' parameter must be a string")}else{if((!PJ.isNumber(var_count))||(!PJ.Numeric.isInteger(var_count))||(var_count<0)){throw new PJ.IllegalArgumentException("'var_count' parameter must be a positive integer.")}}this.getResults=function(){return this._results.slice()};this.generateHTML=function(options){if(typeof options!=="object"){options={}}var id=(typeof options.id!=="undefined")?id:"truthtable";var shorthand=(typeof options.shorthand!=="undefined")?PJ.parseBoolean(options.shorthand):false;var html='<table id="'+id+'">';html+="<thead><tr>";for(var i=0;i<this._varCount;i++){html+="<th>v["+i+"]</th>"}html+="<th>"+this._expr+"</th>";html+="</tr></thead>";for(var r=0;r<this._results.length;r++){var row=this._results[r];html+="<tr>";for(var c=0;c<row.length;c++){var rcVal=row[c];if(shorthand){rcVal=(rcVal)?"T":"F"}html+="<td>"+rcVal+"</td>"}html+="</tr>"}html+="</table>";return html};this._expr=expression,this._varCount=var_count,this._rowCount=Math.pow(2,var_count),this._results=[];var getVariableArray=function(row,vCount){var seq=PJ.StringUtils.pad(row.toString(2),vCount,"0",PJ.StringUtils.PAD_LEFT);var ar=new Array(seq.length);for(var i=0;i<ar.length;i++){ar[i]=(seq.charAt(i)==="1")}return ar};for(var curRow=0;curRow<this._rowCount;curRow++){var v=getVariableArray(curRow,this._varCount);v.push(PJ.parseBoolean(eval(this._expr)));this._results[curRow]=v}};